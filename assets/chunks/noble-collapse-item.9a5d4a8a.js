import"./global.b7197bcd.js";import{i as E}from"./isArray.513c67aa.js";import{h as r,y as H,j as S,f as g,z as x,d as c,b as F,l as K,i as m,A as w,m as B,u as C}from"../app.9ef65ab3.js";function h(){if(!arguments.length)return[];var e=arguments[0];return E(e)?e:[e]}const P={accordion:{type:Boolean,default:!1},modelValue:{type:[Array,Number,String],default:[],required:!0}},T={name:{type:String,required:!0},title:String,disabled:{type:Boolean,default:!1}};function j(e){return Symbol(e)}const y=j("collapseContextKey"),q=(e,n)=>{const a=r(h(e.modelValue)),l=t=>{a.value=t;const s=e.accordion?a.value[0]:a.value;n.emit("update:modelValue",s),n.emit("change",s)},o=t=>{if(console.log(t),e.accordion){const s=a.value[0]===t?[""]:[t];l(s)}else{const s=[...a.value],u=s.indexOf(t);u>-1?s.splice(u,1):s.push(t),l(s)}};return H(()=>e.modelValue,t=>{console.warn(t),a.value=h(e.modelValue)},{deep:!0}),S(y,{activeNames:a,handleItemClick:o}),{activeNames:a,setActiveNames:l}},D=g({name:"AuxNobleCollapse",props:P,emits:["update:modelValue","change"],setup(e,n){const{slots:a}=x(n),{activeNames:l,setActiveNames:o}=q(e,n);return n.expose({activeNames:l,setActiveNames:o}),()=>{var t,s;return c("div",{class:"aux-noble-collapse",role:"tablist","aria-multiselectable":"true"},[(s=(t=a.value).default)==null?void 0:s.call(t)])}}}),M=(...e)=>()=>c("i",{class:["iconfont",...e]},[F("  ")]),$=()=>Math.floor(Math.random()*1e4),z=(e,n)=>{const a=K(y),l=r(!1),o=r(!1),t=r($()),s=m(()=>a==null?void 0:a.activeNames.value.includes(e.name));return{handleHeaderClick:A=>{e.disabled||(a==null||a.handleItemClick(e.name),l.value=!1,o.value=!0)},handleFocus:()=>{console.log(o.value,l.value),setTimeout(()=>{o.value?o.value=!1:l.value=!0},50)},handleEnterClick:()=>{a==null||a.handleItemClick(e.name)},isActive:s,id:t,focusing:l,collapse:a}},G=g({name:"AuxNobleCollapseItem",props:T,emits:[],setup(e,n){const{slots:a}=x(n),l=B("noble-collapse-item"),{handleHeaderClick:o,handleEnterClick:t,handleFocus:s,isActive:u,id:d,focusing:v,collapse:A}=z(e),N=m(()=>l.e(`expandable-${C(d)}`)),k=m(()=>l.e(`Header-${C(d)}`)),I=i=>{i.key=="Enter"&&(i.stopPropagation(),t())},V=M("icon-angle-up");return()=>{var i,f;return c("div",{class:{[l.b()]:!0,["is-active"]:u.value},role:"tablist","aria-multiselectable":"true"},[c("section",{id:k.value,class:{[l.e("header")]:!0,["is-active"]:u.value},role:"button",tabindex:e.disabled?-1:0,onClick:o,onFocus:s,onBlur:()=>v.value=!1,onKeypress:I},[c("span",null,[((f=(i=a.value).title)==null?void 0:f.call(i,{props:e}))??e.title]),c("i",{class:{[l.e("arrow")]:!0,["is-active"]:u.value}},[c(V,null,null)])]),c(w,null,{default:()=>{var p,b;return[u.value&&c("section",{id:N.value,style:{},role:"tabpanel",class:{[l.e("expandable")]:!0,["is-active"]:u.value}},[((b=(p=n.slots).default)==null?void 0:b.call(p))??"Expand content"])]}})])}}});export{G as A,D as a};
